<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gesture Control</title>
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&family=Share+Tech+Mono&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" type="image/png" href="robotic-hand.png">
</head>
<body>

    <div class="cyber-overlay"></div>
    <div class="scanlines"></div>

    <header style="display: flex; justify-content: space-between; align-items: center; padding: 10px 20px 10px 30px; border-bottom: 2px solid rgba(255,255,255,0.1); margin-bottom: 15px; height: 60px;">

        <h1 style="color: white; font-family: var(--font-main); letter-spacing: 2px; margin: 0; font-size: 28px; display: flex; align-items: center; height: 100%;">GESTURE CONTROL</h1>
        <div id="camera-status" class="cyber-cam-status online" style="font-size: 28px; padding: 0 15px; display: flex; align-items: center; gap: 15px; height: 100%; background: transparent; border: none; font-weight: bold; letter-spacing: 2px;">
            <span id="cam-dot" class="cam-dot-online" style="width: 14px; height: 14px;"></span>
            <span id="cam-text">CAM ONLINE</span>
        </div>
    </header>

    <div class="container">

        <div class="section-container">
            <div class="section-header">
                <h2>GAMES</h2>
                <span class="subtitle">INSTALLED MODULES</span>
                <p>Select a game module below.</p>
            </div>

            <div class="grid-container">
                <div class="card cyber-card red" onclick="runShooter()">
                    <div class="card-deco top-left"></div>
                    <div class="card-content">
                        <h2>SHOOTING RANGE</h2>
                        <p>[ MODULE_01 ]</p>
                    </div>
                </div>

                <div class="card cyber-card purple" onclick="runKatana()">
                    <div class="card-deco top-left"></div>
                    <div class="card-content">
                        <h2>KARATE CHOP</h2>
                        <p>[ MODULE_02 ]</p>
                    </div>
                </div>

                <div class="card cyber-card cyan" onclick="runBubble()">
                    <div class="card-deco top-left"></div>
                    <div class="card-content">
                        <h2>BUBBLE CATCHER</h2>
                        <p>[ MODULE_03 ]</p>
                    </div>
                </div>

                <div class="card cyber-card red" onclick="runRPS()">
                    <div class="card-deco top-left"></div>
                    <div class="card-content">
                        <h2>R.P.S. GAME</h2>
                        <p>[ MODULE_04 ]</p>
                    </div>
                </div>

                <div class="card cyber-card purple" onclick="runMeme()">
                    <div class="card-deco top-left"></div>
                    <div class="card-content">
                        <h2>MEME MATCH</h2>
                        <p>[ MODULE_05 ]</p>
                    </div>
                </div>

                <div class="card cyber-card cyan" onclick="runCanvas()">
                    <div class="card-deco top-left"></div>
                    <div class="card-content">
                        <h2>AIR CANVAS</h2>
                        <p>[ MODULE_06 ]</p>
                    </div>
                </div>

        </div>

        <div class="section-container" style="margin-top: 25px;">
            <div class="section-header">
                <h2>FEATURES</h2>
                <p>Toggle cybernetic systems on or off.</p>
            </div>

            <div class="grid-container">
                <div class="card cyber-card cyan feature-card">
                    <div class="card-deco top-left"></div>
                    <div class="card-content">
                        <h2>VOLUME CONTROL</h2>
                        <p>[ F_01 ]</p>
                        <label class="cyber-switch">
                            <input type="checkbox" onchange="runVolume()" id="volumeToggle">
                            <span class="slider cyan-glow"></span>
                        </label>
                    </div>
                </div>
                <div class="card cyber-card red feature-card">
                    <div class="card-deco top-left"></div>
                    <div class="card-content">
                        <h2>SMARTWATCH</h2>
                        <p>[ F_02 ]</p>
                        <label class="cyber-switch">
                            <input type="checkbox" onchange="runSmartWatch()" id="smartwatchToggle">
                            <span class="slider cyan-glow"></span>
                        </label>
                    </div>
                </div>
                <div class="cyber-card cyan">
                    <div class="card-deco top-left"></div>
                    <div class="card-content">
                        <h2>MOUSE CONTROL</h2>
                        <p>[ F_03 ]</p>
                        <label class="cyber-switch">
                        <input type="checkbox" id="mouseToggle" onchange="runMouse()">
                        <span class="slider"></span>
                        </label>
                    </div>
                </div>
                <div class="card cyber-card purple" onclick="runCameraView()">
                    <div class="card-deco top-left"></div>
                    <div class="card-content">
                        <h2>CAMERA VIEW</h2>
                        <p>[ SYS_CALIBRATE ]</p>
                    </div>
                </div>

                <div class="cyber-card red">
                    <div class="card-deco top-left"></div>
                    <div class="card-content">
                        <h2>PRESENTATION SWIPE</h2>
                        <p>[ F_04 ]</p>
                        <label class="cyber-switch">
                        <input type="checkbox" id="presentationToggle" onchange="runPresentation()">
                        <span class="slider"></span>
                        </label>
                    </div>
                </div>

                <div class="cyber-card purple">
                    <div class="card-deco top-left"></div>
                    <div class="card-content">
                        <h2>MACRO LINKS</h2>
                        <p style="cursor: pointer; color: var(--neon-purple);" onclick="openMacroConfig()">[ CONFIGURE ]</p>
                        <label class="cyber-switch">
                        <input type="checkbox" id="macroToggle" onchange="runMacros()">
                        <span class="slider"></span>
                        </label>
                    </div>
                </div>
            </div>

        </div>
    </div>

        <div class="footer">
            <p class="tech-tip">:: SYSTEM_TIP :: Tap wrist to activate chronometer (if available).</p>
            <button class="exit-btn cyber-button" onclick="window.close()">
                <span class="btn-text">DISCONNECT SYSTEM</span>
            </button>
        </div>
    </div>

    <div id="cameraModal" class="modal-overlay hidden" onclick="closeModalOnOutsideClick(event)">
        <div class="modal-content cyber-card red">
            <h2 style="color: var(--neon-red); text-shadow: 0 0 10px var(--neon-red);">[ CRITICAL ERROR ]</h2>
            <h3>OPTICAL SENSOR NOT FOUND</h3>

            <div class="terminal-text-container">
                <div class="terminal-text">
                    <p>> Gesture tracking initialization failed...</p>
                    <p>> Connection diagnostics suggest solutions:</p>
                    <ul>
                        <li>Physically check USB camera connection.</li>
                        <li>Ensure camera is not blocked by another app (Zoom, Teams, etc.).</li>
                        <li>Enable camera access in Windows Privacy Settings.</li>
                    </ul>
                </div>
            </div>

            <button class="cyber-button close-modal-btn" onclick="closeModal()">
                <span class="btn-text">END DIAGNOSTICS</span>
            </button>
        </div>
    </div>

    <div id="cameraPreviewModal" class="modal-overlay hidden">
        <div class="modal-content cyber-card purple" style="max-width: 700px; text-align: center;">
            <div class="card-deco top-left"></div>
            <h2 style="color: var(--neon-purple); margin-bottom: 10px;">[ ALIGNMENT FEED ]</h2>
            <p style="color: rgba(224, 247, 255, 0.6); margin-bottom: 20px;">Please align your body and face within the center frame.</p>

            <div style="position: relative; display: inline-block; border: 2px solid var(--neon-purple); border-radius: 5px; overflow: hidden; background: #000; min-height: 480px; width: 640px;">
                <img id="cam-preview" src="" style="width: 100%; height: 100%; display: block;">
            </div>

            <button class="cyber-button" onclick="closeCameraView()" style="margin-top: 25px; border-color: var(--neon-purple); color: var(--neon-purple);">
                <span class="btn-text">CLOSE & SAVE ALIGNMENT</span>
            </button>
        </div>
    </div>
    <div id="macroConfigModal" class="modal-overlay hidden">
        <div class="modal-content cyber-card purple" style="max-width: 500px; text-align: left;">
            <div class="card-deco top-left"></div>
            <h2 style="color: var(--neon-purple); margin-bottom: 15px;">[ MACRO CONFIGURATION ]</h2>
            <p style="color: rgba(224, 247, 255, 0.6); margin-bottom: 20px;">Assign URLs or App paths to hand gestures.</p>

            <label style="color: white; font-size: 12px;">‚úåÔ∏è VICTORY GESTURE:</label>
            <input type="text" id="link1" placeholder="www.youtube.com" style="background: #111; border: 1px solid var(--neon-purple); color: white; padding: 10px; width: 100%; margin-bottom: 15px; box-sizing: border-box; font-family: var(--font-main);">

            <label style="color: white; font-size: 12px;">üëç THUMBS UP GESTURE:</label>
            <input type="text" id="link2" placeholder="www.google.com" style="background: #111; border: 1px solid var(--neon-purple); color: white; padding: 10px; width: 100%; margin-bottom: 15px; box-sizing: border-box; font-family: var(--font-main);">

            <label style="color: white; font-size: 12px;">ü§ò ROCK ON GESTURE:</label>
            <input type="text" id="link3" placeholder="netflix.com" style="background: #111; border: 1px solid var(--neon-purple); color: white; padding: 10px; width: 100%; margin-bottom: 25px; box-sizing: border-box; font-family: var(--font-main);">

            <button class="cyber-button" onclick="saveMacroConfig()" style="border-color: var(--neon-purple); color: var(--neon-purple); width: 100%;">
            SAVE & APPLY
            </button>
        </div>
    </div>

    <div id="scoreModal" class="modal-overlay hidden">

    </div>
    <script type="text/javascript" src="/eel.js"></script>
    <script src="script.js"></script>
</body>
</html>